<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="reserv">
<select id="list" resultType="com.example.syFinal.guest.model.dto.ReservDTO">
	select DISTINCT(o_idx), ho_name, d_ho_idx, ho_address, ho_img, o_ckin, o_ckout, h_name, h_idx from hotel, hotel_detail, orders, host
	where o_gidx=#{g_idx} and d_ho_idx = ho_idx and h_business = ho_business
</select>

<select id="lastDetail" resultType="com.example.syFinal.guest.model.dto.ReservDTO">
select o_ckin, o_ckout, o_orderdate, o_price, o_discount, o_finalprice,
h_name, h_phone, h_profile,
ho_name, ho_address, ho_check_in, ho_check_out,
d_area, d_room_type, d_beds, d_non_smoking
FROM orders, host, hotel, hotel_detail where
o_idx = #{o_idx} and o_didx = d_idx and d_ho_idx = ho_idx and ho_business = h_business
</select>
</mapper>